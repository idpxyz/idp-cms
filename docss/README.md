# IDP-CMS 文档中心

欢迎来到 IDP-CMS 的文档中心！这里包含了系统架构、开发指南、API 文档和运维手册等完整的技术文档。

## 📚 文档导航

### 🏗️ 架构与设计

- **[architecture.md](./architecture.md)** - 系统总体架构和开发者手册
  - 涵盖后端、前端、数据库、搜索引擎等所有组件
  - SaaS 能力、多租户、计费、RBAC 等企业级功能
  - 包含多站点架构概览和快速上手指南

### 🌐 多站点架构 **(新增)**

多站点架构是 IDP-CMS 的核心功能之一，支持在同一套系统中管理多个独立站点：

- **[多站点架构指南.md](./多站点架构指南.md)** - 完整的架构设计和实现指南
  - 设计原理和核心组件
  - 站点配置和数据隔离
  - 开发指南和最佳实践
  - 故障排除和性能优化

- **[多站点API文档.md](./多站点API文档.md)** - API 使用和集成指南
  - Feed API 详细说明
  - 站点识别机制
  - 客户端集成示例（TypeScript、Python、cURL）
  - 错误处理和性能优化

- **[多站点部署运维指南.md](./多站点部署运维指南.md)** - 部署和运维完整指南
  - 环境准备和配置管理
  - 自动化部署和 CI/CD
  - 监控告警和备份恢复
  - 故障处理和扩容方案

### 📖 功能文档

- **[基础功能.md](./基础功能.md)** - 系统基础功能介绍
- **[开发指南.md](./开发指南.md)** - 详细的开发指南和环境搭建
- **[feed-api.md](./feed-api.md)** - Feed API 详细文档
- **[EVA.md](./EVA.md)** - EVA 组件文档

### 🔧 技术细节

- **[ARTICLE_INDEXING.md](./ARTICLE_INDEXING.md)** - 文章索引和搜索机制
- **[SIGNALS_IMPLEMENTATION_SUMMARY.md](./SIGNALS_IMPLEMENTATION_SUMMARY.md)** - Django 信号系统实现

### 📋 待办事项

- **[TODO/](./TODO/)** - 项目待办事项和功能规划

## 🚀 快速开始

### 1. 系统概览
如果你是第一次接触 IDP-CMS，建议从 [architecture.md](./architecture.md) 开始，了解系统的整体架构和核心概念。

### 2. 开发环境搭建
按照 [开发指南.md](./开发指南.md) 的说明搭建本地开发环境。

### 3. 多站点功能体验
多站点是 IDP-CMS 的重要特性，参考 [多站点架构指南.md](./多站点架构指南.md) 了解如何：

```bash
# 启动多站点环境
docker compose -f infra/local/docker-compose.yaml up -d

# 创建多站点配置
docker compose exec authoring python authoring/manage.py setup_sites

# 测试不同站点
curl -H "Host: site-a.local" "http://localhost:8000/api/feed?size=5"
curl -H "Host: site-b.local" "http://localhost:8000/api/feed?size=5"
```

### 4. API 集成
查看 [多站点API文档.md](./多站点API文档.md) 了解如何在你的应用中集成 IDP-CMS 的 API。

## 📋 文档结构

```
docs/
├── README.md                     # 本文档（文档导航）
├── architecture.md               # 系统架构总览
├── 开发指南.md                    # 开发环境和指南
├── 基础功能.md                    # 基础功能介绍
├── 多站点架构指南.md               # 多站点架构详细指南 ⭐
├── 多站点API文档.md               # 多站点API使用文档 ⭐
├── 多站点部署运维指南.md           # 多站点部署运维 ⭐
├── feed-api.md                   # Feed API 文档
├── EVA.md                        # EVA 组件文档
├── ARTICLE_INDEXING.md           # 文章索引机制
├── SIGNALS_IMPLEMENTATION_SUMMARY.md  # Django信号实现
└── TODO/                         # 待办事项目录
```

## 🆕 最新更新

### 2025-08-25 - 多站点架构文档发布

新增了完整的多站点架构文档集合，包括：

✅ **架构设计文档** - 深入解析多站点架构的设计原理和实现方案  
✅ **API 使用指南** - 详细的 API 调用方法和客户端集成示例  
✅ **部署运维手册** - 从开发到生产的完整部署和运维指南  
✅ **故障排除指南** - 常见问题的诊断和解决方案  
✅ **性能优化建议** - 数据库、搜索引擎、应用层的优化策略  

### 核心特性

🌐 **动态站点识别** - 支持 Host header 和 URL 参数两种识别方式  
🔒 **完全数据隔离** - 每个站点使用独立的 OpenSearch 索引  
⚡ **高性能设计** - 站点特定的缓存策略和查询优化  
🛠️ **统一管理** - 集成 Wagtail Sites 框架的管理界面  
📈 **易于扩容** - 支持添加新站点和横向扩展  

## 🤝 贡献指南

### 文档更新流程

1. **识别需求** - 发现文档缺失或过时内容
2. **创建分支** - 从 main 分支创建 `docs/feature-name` 分支
3. **编写文档** - 按照现有文档的格式和风格编写
4. **测试验证** - 确保文档中的代码示例可以正常运行
5. **提交审核** - 创建 Pull Request 并请求代码审核
6. **合并发布** - 审核通过后合并到主分支

### 文档规范

- **Markdown 格式** - 使用标准的 Markdown 语法
- **中文文档** - 主要文档使用中文，代码注释使用英文
- **代码示例** - 提供可运行的完整代码示例
- **版本信息** - 重要更新记录版本号和时间
- **交叉引用** - 适当使用文档间的交叉引用

### 需要帮助的领域

- 📝 **API 文档** - 新功能的 API 文档编写
- 🛠️ **故障排除** - 收集和整理常见问题解决方案
- 🌍 **国际化** - 重要文档的英文翻译
- 📊 **最佳实践** - 生产环境的最佳实践总结
- 🔍 **性能优化** - 性能调优经验分享

## 📞 获取帮助

如果你在使用过程中遇到问题，可以通过以下方式获取帮助：

1. **查阅文档** - 首先查看相关的技术文档
2. **搜索问题** - 在项目的 Issues 中搜索类似问题
3. **创建 Issue** - 如果找不到解决方案，创建新的 Issue
4. **参与讨论** - 在 Discussions 中参与技术讨论

## 📜 许可证

本文档遵循与 IDP-CMS 项目相同的许可证。

---

**💡 提示**: 建议收藏本页面，作为使用 IDP-CMS 的文档入口。文档会持续更新，请关注最新版本。
