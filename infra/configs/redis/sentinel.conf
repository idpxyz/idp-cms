# Redis Sentinel 配置
# 用于自动故障转移和高可用

port 26379
daemonize no
pidfile /var/run/redis-sentinel.pid
logfile /var/log/redis/sentinel.log
dir /tmp

# 监控主节点配置
# sentinel monitor <master-name> <ip> <port> <quorum>
sentinel monitor mymaster SERVER1_IP 6379 2

# 主节点密码（如果设置了密码）
sentinel auth-pass mymaster REDIS_PASSWORD

# 主节点被判定为下线的时间（毫秒）
sentinel down-after-milliseconds mymaster 5000

# 故障转移超时时间
sentinel failover-timeout mymaster 10000

# 同时向新主节点发起复制的从节点数量
sentinel parallel-syncs mymaster 1

# 通知脚本（可选）
# sentinel notification-script mymaster /var/redis/notify.sh
# sentinel client-reconfig-script mymaster /var/redis/reconfig.sh

# 拒绝执行危险命令
sentinel deny-scripts-reconfig yes

# Sentinel 日志级别
# debug, verbose, notice, warning
loglevel notice

# 宣告的 IP 和端口（用于 NAT 环境）
# sentinel announce-ip <ip>
# sentinel announce-port <port>

