# ğŸ¨ é¢‘é“å¯¼èˆªUXåˆ†æä¸æœ€ä½³å®è·µ

## ğŸ“Š ä¸»æµæ–°é—»ç½‘ç«™é¢‘é“å¯¼èˆªè°ƒç ”

### å›½é™…ä¸»æµåª’ä½“

#### 1. CNN.com
```
æ¡Œé¢ç«¯: [Home] [World] [Politics] [Business] [Tech] [More â–¼]
- å›ºå®š5-6ä¸ªä¸»é¢‘é“
- ä½¿ç”¨CSSåª’ä½“æŸ¥è¯¢å“åº”å¼
- "More"ä¸‹æ‹‰èœå•åŒ…å«å…¶ä»–é¢‘é“
- æ— JavaScriptè®¡ç®—å®½åº¦
```

#### 2. BBC News
```
æ¡Œé¢ç«¯: [Home] [UK] [World] [Business] [Politics] [Tech] [Science] [More]
- å›ºå®š7-8ä¸ªé¢‘é“
- å“åº”å¼ï¼šå¹³æ¿å‡å°‘åˆ°5ä¸ªï¼Œç§»åŠ¨ç«¯æ±‰å ¡èœå•
- å®Œå…¨æœåŠ¡ç«¯æ¸²æŸ“
```

#### 3. New York Times
```
æ¡Œé¢ç«¯: [Home] [World] [U.S.] [Politics] [Business] [Opinion] [â€¦]
- å›ºå®š6ä¸ªé¢‘é“
- æç®€è®¾è®¡
- çœç•¥å·èœå•
```

### å›½å†…ä¸»æµåª’ä½“

#### 4. äººæ°‘ç½‘
```
æ¡Œé¢ç«¯: [é¦–é¡µ] [æ—¶æ”¿] [å›½é™…] [è´¢ç»] [æ–‡åŒ–] [ç¤¾ä¼š] [æ›´å¤šâ–¼]
- å›ºå®š6-7ä¸ªé¢‘é“
- äºŒçº§å¯¼èˆªåœ¨ä¸‹æ‹‰èœå•ä¸­
- å“åº”å¼è®¾è®¡åŸºäºæ–­ç‚¹
```

#### 5. æ–°åç½‘
```
æ¡Œé¢ç«¯: [é¦–é¡µ] [æ—¶æ”¿] [å›½é™…] [è´¢ç»] [å†›äº‹] [æ–‡åŒ–] [ä½“è‚²] [æ›´å¤š]
- å›ºå®š8ä¸ªé¢‘é“
- ä½¿ç”¨CSS Gridå¸ƒå±€
- æ— åŠ¨æ€è®¡ç®—
```

---

## ğŸ¯ æ ¸å¿ƒUXåŸåˆ™æ€»ç»“

### 1. **å¯é¢„æµ‹æ€§ > åŠ¨æ€æ€§**
âŒ **ä¸å¥½:** æ ¹æ®å®¹å™¨å®½åº¦åŠ¨æ€è®¡ç®—æ˜¾ç¤ºæ•°é‡ï¼ˆ6ä¸ªã€7ä¸ªã€8ä¸ªä¸ç¡®å®šï¼‰
âœ… **å¥½:** å›ºå®šæ–­ç‚¹ï¼Œæ¯ä¸ªæ–­ç‚¹å›ºå®šæ•°é‡

### 2. **æœåŠ¡ç«¯ç¡®å®š > å®¢æˆ·ç«¯è®¡ç®—**
âŒ **ä¸å¥½:** å®¢æˆ·ç«¯JavaScriptè®¡ç®—ã€è°ƒæ•´
âœ… **å¥½:** æœåŠ¡ç«¯æ ¹æ®è®¾å¤‡ç±»å‹æ¸²æŸ“ï¼ŒCSSåª’ä½“æŸ¥è¯¢

### 3. **ç®€å• > å¤æ‚**
âŒ **ä¸å¥½:** ResizeObserverã€å­—ç¬¦å®½åº¦ä¼°ç®—ã€åŠ¨æ€è°ƒæ•´
âœ… **å¥½:** CSS Grid/Flex + åª’ä½“æŸ¥è¯¢

### 4. **ä¸€è‡´æ€§ > ä¸ªæ€§åŒ–**
âŒ **ä¸å¥½:** æ¯ä¸ªç”¨æˆ·çœ‹åˆ°ä¸åŒæ•°é‡çš„é¢‘é“
âœ… **å¥½:** æ‰€æœ‰ç”¨æˆ·åœ¨ç›¸åŒè®¾å¤‡ä¸Šçœ‹åˆ°ç›¸åŒæ•°é‡

---

## âœ… æ¨èæ–¹æ¡ˆï¼šå“åº”å¼æ–­ç‚¹è®¾è®¡

### è®¾è®¡è§„èŒƒ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ è¶…å¤§å±å¹• (â‰¥1280px)                                   â”‚
â”‚ [é¦–é¡µ] [æ¨è] [æ—¶æ”¿] [å›½é™…] [è´¢ç»] [æ–‡åŒ–] [ç¤¾ä¼š] [æ›´å¤šâ–¼] â”‚
â”‚ â†’ 8ä¸ªé¢‘é“ + æ›´å¤šèœå•                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ¡Œé¢ (1024px - 1279px)                    â”‚
â”‚ [é¦–é¡µ] [æ¨è] [æ—¶æ”¿] [å›½é™…] [è´¢ç»] [æ›´å¤šâ–¼]  â”‚
â”‚ â†’ 6ä¸ªé¢‘é“ + æ›´å¤šèœå•                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ å¹³æ¿ (768px - 1023px)          â”‚
â”‚ [é¦–é¡µ] [æ¨è] [æ—¶æ”¿] [æ›´å¤šâ–¼]    â”‚
â”‚ â†’ 4ä¸ªé¢‘é“ + æ›´å¤šèœå•            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ç§»åŠ¨ (<768px)     â”‚
â”‚ â‰¡ æ±‰å ¡èœå•        â”‚
â”‚ â†’ å…¨éƒ¨æŠ˜å         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### å®ç°æ–¹æ¡ˆ

#### æ–¹æ¡ˆA: çº¯CSSæ–¹æ¡ˆï¼ˆæ¨èâ­â­â­â­â­ï¼‰

```tsx
// SSRå’Œå®¢æˆ·ç«¯å®Œå…¨ä¸€è‡´
export default function ChannelNavigation({ channels }) {
  return (
    <nav className="channel-nav">
      {/* ä¸»é¢‘é“ - ä½¿ç”¨CSSæ§åˆ¶æ˜¾ç¤º/éšè— */}
      {channels.map((channel, index) => (
        <a 
          key={channel.slug}
          className={`channel-item channel-item-${index}`}
          href={`/portal?channel=${channel.slug}`}
        >
          {channel.name}
        </a>
      ))}
      
      {/* æ›´å¤šèœå• */}
      <MoreMenu channels={channels.slice(8)} />
    </nav>
  );
}
```

```css
/* çº¯CSSå“åº”å¼ */
.channel-nav {
  display: flex;
  gap: 1rem;
}

/* è¶…å¤§å±ï¼šæ˜¾ç¤º8ä¸ª */
@media (min-width: 1280px) {
  .channel-item:nth-child(n+9) { display: none; }
}

/* æ¡Œé¢ï¼šæ˜¾ç¤º6ä¸ª */
@media (min-width: 1024px) and (max-width: 1279px) {
  .channel-item:nth-child(n+7) { display: none; }
}

/* å¹³æ¿ï¼šæ˜¾ç¤º4ä¸ª */
@media (min-width: 768px) and (max-width: 1023px) {
  .channel-item:nth-child(n+5) { display: none; }
}

/* ç§»åŠ¨ï¼šå…¨éƒ¨éšè—ï¼Œä½¿ç”¨æ±‰å ¡èœå• */
@media (max-width: 767px) {
  .channel-item { display: none; }
}
```

**ä¼˜ç‚¹ï¼š**
- âœ… SSRå’Œå®¢æˆ·ç«¯100%ä¸€è‡´
- âœ… é›¶JavaScriptè®¡ç®—
- âœ… é›¶å¸ƒå±€è·³åŠ¨
- âœ… æ€§èƒ½æœ€ä¼˜
- âœ… å¯é¢„æµ‹ã€å¯æµ‹è¯•

**ç¼ºç‚¹ï¼š**
- âŒ ä¸èƒ½æ ¹æ®é¢‘é“åç§°é•¿åº¦åŠ¨æ€è°ƒæ•´

#### æ–¹æ¡ˆB: æœåŠ¡ç«¯è®¾å¤‡æ£€æµ‹

```tsx
// layout.tsx (Server Component)
import { headers } from 'next/headers';

export default async function PortalLayout() {
  const headersList = headers();
  const userAgent = headersList.get('user-agent') || '';
  
  // æœåŠ¡ç«¯è®¾å¤‡æ£€æµ‹
  const deviceType = detectDevice(userAgent);
  const visibleCount = getVisibleCountByDevice(deviceType);
  
  const channels = await getChannels();
  const visibleChannels = channels.slice(0, visibleCount);
  const moreChannels = channels.slice(visibleCount);
  
  return (
    <ChannelNavigation 
      visibleChannels={visibleChannels}
      moreChannels={moreChannels}
    />
  );
}

function detectDevice(userAgent: string) {
  if (/mobile/i.test(userAgent)) return 'mobile';
  if (/tablet/i.test(userAgent)) return 'tablet';
  return 'desktop';
}

function getVisibleCountByDevice(device: string) {
  switch (device) {
    case 'mobile': return 0; // å…¨éƒ¨æ±‰å ¡èœå•
    case 'tablet': return 4;
    case 'desktop': return 6;
    default: return 6;
  }
}
```

**ä¼˜ç‚¹ï¼š**
- âœ… SSRå’Œå®¢æˆ·ç«¯ä¸€è‡´
- âœ… æœåŠ¡ç«¯ç¡®å®šæ•°é‡
- âœ… å¯æ ¹æ®è®¾å¤‡ç±»å‹ä¼˜åŒ–

**ç¼ºç‚¹ï¼š**
- âŒ User-Agentæ£€æµ‹ä¸100%å‡†ç¡®
- âŒ çª—å£è°ƒæ•´å¤§å°åä¸å“åº”

#### æ–¹æ¡ˆC: æ··åˆæ–¹æ¡ˆï¼ˆCSS + å®¹å™¨æŸ¥è¯¢ï¼‰â­â­â­â­

```tsx
// ä½¿ç”¨CSS Container Queriesï¼ˆç°ä»£æµè§ˆå™¨æ”¯æŒï¼‰
<nav className="channel-nav-container">
  <div className="channel-nav">
    {channels.map((channel, index) => (
      <a 
        key={channel.slug}
        className="channel-item"
        data-priority={index} // ä¼˜å…ˆçº§
        href={`/portal?channel=${channel.slug}`}
      >
        {channel.name}
      </a>
    ))}
  </div>
</nav>
```

```css
.channel-nav-container {
  container-type: inline-size;
}

/* å®¹å™¨æŸ¥è¯¢ - æ¯”åª’ä½“æŸ¥è¯¢æ›´ç²¾ç¡® */
@container (min-width: 1000px) {
  .channel-item[data-priority="8"],
  .channel-item[data-priority="9"] { 
    display: none; 
  }
}

@container (min-width: 800px) and (max-width: 999px) {
  .channel-item[data-priority="6"],
  .channel-item[data-priority="7"],
  .channel-item[data-priority="8"],
  .channel-item[data-priority="9"] { 
    display: none; 
  }
}
```

---

## ğŸ¨ æ¨èçš„æœ€ç»ˆæ–¹æ¡ˆ

### ç»“åˆæ–¹æ¡ˆA + ä¼˜å…ˆçº§æ’åº

```tsx
interface ChannelWithPriority extends Channel {
  priority: number; // 1-10ï¼Œè¶Šå°è¶Šé‡è¦
}

export default function ChannelNavigation({ 
  channels 
}: { 
  channels: ChannelWithPriority[] 
}) {
  // æŒ‰ä¼˜å…ˆçº§æ’åº
  const sortedChannels = [...channels].sort((a, b) => a.priority - b.priority);
  
  return (
    <nav className="bg-white border-b border-gray-200 sticky top-0 z-30">
      <div className="max-w-7xl mx-auto px-4">
        <div className="flex items-center space-x-4 py-3">
          {/* ä½¿ç”¨CSSæ§åˆ¶æ˜¾ç¤ºæ•°é‡ */}
          {sortedChannels.map((channel, index) => (
            <a
              key={channel.slug}
              href={`/portal?channel=${channel.slug}`}
              className={`
                channel-nav-item
                channel-nav-item-${index}
                px-4 py-2 rounded-full text-sm font-medium
                text-gray-600 hover:text-red-500 hover:bg-gray-50
                whitespace-nowrap transition-all
              `}
            >
              {channel.name}
            </a>
          ))}
          
          {/* æ›´å¤šèœå• - åŒ…å«æ‰€æœ‰é¢‘é“ï¼ŒCSSæ§åˆ¶æ˜¾ç¤ºæ—¶æœº */}
          <MoreMenu channels={sortedChannels} />
        </div>
      </div>
    </nav>
  );
}
```

```css
/* å“åº”å¼æ–­ç‚¹ - æ¸…æ™°ã€å¯é¢„æµ‹ */

/* ç§»åŠ¨ç«¯ï¼šå…¨éƒ¨éšè—ï¼Œåªæ˜¾ç¤ºæ±‰å ¡èœå• */
@media (max-width: 767px) {
  .channel-nav-item { display: none !important; }
}

/* å¹³æ¿ï¼šæ˜¾ç¤ºå‰4ä¸ª */
@media (min-width: 768px) and (max-width: 1023px) {
  .channel-nav-item-4,
  .channel-nav-item-5,
  .channel-nav-item-6,
  .channel-nav-item-7,
  .channel-nav-item-8,
  .channel-nav-item-9 { 
    display: none; 
  }
}

/* æ¡Œé¢ï¼šæ˜¾ç¤ºå‰6ä¸ª */
@media (min-width: 1024px) and (max-width: 1279px) {
  .channel-nav-item-6,
  .channel-nav-item-7,
  .channel-nav-item-8,
  .channel-nav-item-9 { 
    display: none; 
  }
}

/* è¶…å¤§å±ï¼šæ˜¾ç¤ºå‰8ä¸ª */
@media (min-width: 1280px) {
  .channel-nav-item-8,
  .channel-nav-item-9 { 
    display: none; 
  }
}
```

---

## ğŸ“ˆ æ•ˆæœå¯¹æ¯”

| æŒ‡æ ‡ | å½“å‰æ–¹æ¡ˆï¼ˆJSè®¡ç®—ï¼‰ | æ¨èæ–¹æ¡ˆï¼ˆCSSæ–­ç‚¹ï¼‰ |
|------|-------------------|-------------------|
| **SSR/CSRä¸€è‡´æ€§** | ğŸŸ¡ éœ€hydrationè°ƒæ•´ | âœ… 100%ä¸€è‡´ |
| **æ€§èƒ½** | ğŸŸ¡ éœ€JavaScript | âœ… çº¯CSS |
| **å¯é¢„æµ‹æ€§** | ğŸ”´ åŠ¨æ€æ•°é‡ | âœ… å›ºå®šæ–­ç‚¹ |
| **ç»´æŠ¤æ€§** | ğŸ”´ å¤æ‚é€»è¾‘ | âœ… ç®€å•æ˜äº† |
| **ç”¨æˆ·ä½“éªŒ** | ğŸŸ¡ å¯èƒ½é—ªçƒ | âœ… é›¶é—ªçƒ |
| **è°ƒè¯•éš¾åº¦** | ğŸ”´ å›°éš¾ | âœ… ç®€å• |

---

## ğŸ¯ å®æ–½å»ºè®®

### Phase 1: ç®€åŒ–å½“å‰æ–¹æ¡ˆ
1. åˆ é™¤ `ResizeObserver` å’Œå®½åº¦è®¡ç®—
2. ä½¿ç”¨å›ºå®šæ–­ç‚¹ï¼ˆ6ä¸ªã€8ä¸ªï¼‰
3. CSSåª’ä½“æŸ¥è¯¢æ§åˆ¶æ˜¾ç¤º

### Phase 2: ä¼˜åŒ–é¢‘é“ä¼˜å…ˆçº§
1. åå°é…ç½®é¢‘é“ä¼˜å…ˆçº§
2. æŒ‰ä¼˜å…ˆçº§æ’åº
3. é‡è¦é¢‘é“ä¼˜å…ˆæ˜¾ç¤º

### Phase 3: å®Œå–„"æ›´å¤š"èœå•
1. ç¾åŒ–ä¸‹æ‹‰èœå•
2. æ”¯æŒåˆ†ç»„ï¼ˆå¦‚ï¼šæ–°é—»ã€ç”Ÿæ´»ã€å¨±ä¹ï¼‰
3. å“åº”å¼è®¾è®¡

---

## ğŸ’¡ å…¶ä»–UXå»ºè®®

### 1. è§†è§‰å±‚æ¬¡
```tsx
// å½“å‰é¢‘é“é«˜äº®
<a className={
  currentChannel === channel.slug
    ? "bg-red-500 text-white"
    : "text-gray-600 hover:text-red-500"
}>
```

### 2. å¿«æ·å¯¼èˆª
```tsx
// é”®ç›˜å¿«æ·é”®
useEffect(() => {
  const handleKeyPress = (e: KeyboardEvent) => {
    if (e.key >= '1' && e.key <= '9') {
      const index = parseInt(e.key) - 1;
      if (channels[index]) {
        navigate(channels[index].slug);
      }
    }
  };
  window.addEventListener('keypress', handleKeyPress);
  return () => window.removeEventListener('keypress', handleKeyPress);
}, [channels]);
```

### 3. é¢åŒ…å±‘å¯¼èˆª
```tsx
// è®©ç”¨æˆ·çŸ¥é“å½“å‰ä½ç½®
<nav aria-label="breadcrumb">
  <ol>
    <li><a href="/">é¦–é¡µ</a></li>
    <li className="active">{currentChannel.name}</li>
  </ol>
</nav>
```

---

## ğŸ“ æ€»ç»“

**æ ¸å¿ƒåŸåˆ™ï¼š**
1. âœ… **Simple is better than complex**
2. âœ… **Predictable is better than dynamic**
3. âœ… **CSS is better than JavaScript**
4. âœ… **Server-side is better than client-side**

**æ¨èæ–¹æ¡ˆï¼š**
- ä½¿ç”¨CSSåª’ä½“æŸ¥è¯¢ï¼ˆæ–¹æ¡ˆAï¼‰
- å›ºå®šæ–­ç‚¹ï¼ˆ4/6/8ä¸ªé¢‘é“ï¼‰
- ä¼˜å…ˆçº§æ’åº
- å®Œå…¨æœåŠ¡ç«¯æ¸²æŸ“

è¿™æ ·å¯ä»¥å®ç°ï¼š
- é›¶JavaScriptå¼€é”€
- é›¶å¸ƒå±€è·³åŠ¨
- 100% SSR/CSRä¸€è‡´
- ç¬¦åˆä¸»æµæ–°é—»ç½‘ç«™UXæ ‡å‡†
