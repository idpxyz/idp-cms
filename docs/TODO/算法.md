I'll scan the frontend and backend feed logic to summarize how the three modules are computed (智能推荐, 今日头条, 最热阅读), then provide an assessment of their alignment with 今日头条-style design.

[5 tools called]

### 三个板块目前的算法

- 智能推荐（主信息流）
  - 召回：按站点与策略组合从 OpenSearch 取 `recommend/hot/trending/latest` 等多频道，时间窗默认 72h（AB 10% 使用 24h），ES 异常回退 PostgreSQL。
  - 排序：匿名用户走个性化排序 `final_score`，融合点击/受欢迎度（如 `ctr_24h`/`pop_*`）、质量分 `quality_score`，并做作者/话题/频道的多样性约束（随 cold_start/hybrid/personalized 策略放宽/收紧）。
  - 去重：后端“强去重”兜底（`canonical_url/url` → `(site, slug)` → `(site, id)` → 规范化标题）；并合并会话级已看集（`X-Session-ID` + `cursor.seen`）。

- 今日头条（首页“今日头条”区）
  - 数据源：优先走“传统新闻”接口 `getNews('recommend')`，仅筛选“当天发布”的内容；若为空再回退到 `fetchLatestFeed`。
  - 排序：当前以“当日时间”优先+简单截断为主，并未做专门“头条分/爆发度/聚类”的服务端排序。
  - 去重：依赖主流的会话级去重兜底（跨模块有效）。

- 最热阅读（侧栏 TopN）
  - 召回/排序：`fetchHotFeed(size)` → 后端以 `sort='hot'` 映射到 `pop_1h` 排序，召回时间窗默认 168h（7天），并应用与推荐流一致的多样性/去重逻辑。
  - 去重：同样走会话级 + 语义去重。

### 与“今日头条”式产品的合理性对比

- 合理之处
  - 智能推荐具备多频道召回、分策略（冷启动/混合/个性化）、多样性控制与强去重；有会话级跨模块去重，能明显减少重复曝光。
  - 最热阅读独立按热度排序，信息香浓度高，便于用户快速获取全站热点。
  - 基础回退链路完整（ES→DB）、接口标准化、超时/限流/缓存等工程韧性达标。

- 可提升点（按优先级）
  - 今日头条区应迁至服务端“头条算法”：用“爆发度（短窗增长率）×质量×新鲜度”选 TopK，并做“故事级聚类去重”（同主题只留1条，给“更多来源”）。
  - 最热阅读的时间窗建议改为 24–48h（而非当前 7天召回），热度可采用多窗融合（1h/3h/24h 加权）+时间衰减，避免老热点长驻。
  - 智能推荐增加“探索/利用”机制与负反馈利用（跳出、快速返回、点“不感兴趣”），并将会话频控（frequency capping）纳入排序特征，减少高频重复曝光。
  - 跨模块策略解耦：给“推荐/最热/头条”各自明确“时间窗/目标函数/来源过滤”，在排序阶段就降低重叠面（而不只靠事后去重）。

### 短平快优化建议（不改大架构）
- 最热阅读：请求时将 `hours` 限为 24 或 48；热度排序用 `pop_1h/3h/24h` 融合（例如 0.5×1h + 0.3×3h + 0.2×24h）+时间衰减。
- 今日头条：新增后端 `headlines` 接口，计算“爆发度分（近1–3小时增量/速度）×质量×新鲜度”，并做文本聚类（相同主题只出一条），支持人工/运营置顶注入。
- 推荐流：将“已展示惩罚（per-session frequency penalty）”加入最终分，进一步降低与侧栏的重叠；持续用会话级去重兜底。

- 验证指标（1周内可观察）
  - 重复曝光率（跨模块/跨页）↓
  - CTR、首屏停留时长、从“头条/最热”进入文章的转化↑
  - 新鲜度满意度（近24h内容占比）↑

简评：当前整体结构与头条范式接近，但“今日头条区”和“最热阅读”的目标函数、时间窗与聚类去重尚欠打磨。优先把“最热”改24–48h、给“头条”上爆发度+聚类，能立刻降低重复、提升感知新鲜与话题性。