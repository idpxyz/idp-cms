# 📝 专业新闻富文本编辑器功能指南

## 🎯 概述

我们为新闻编辑器提供了一个功能丰富的富文本编辑器，专门针对新闻内容创作优化，支持多种格式和媒体类型。

## ✨ 功能对比

### 🔄 **优化前** (太单一)
```
❌ 只有4个功能：bold, italic, link, image
❌ 无法插入引用块
❌ 无法添加分割线
❌ 不支持代码块
❌ 没有表格支持
❌ 无法添加上标下标
❌ 缺少文档链接功能
```

### ✅ **优化后** (专业全面)
```
✅ 20+ 种编辑功能
✅ 完整的标题层级 (H1-H6)
✅ 丰富的文本格式
✅ 多媒体内容支持
✅ 新闻专用结构
✅ 表格功能 (数据新闻)
✅ 嵌入式内容
✅ 专业样式定制
```

## 📋 详细功能列表

### 📝 **基础文本格式**
- **粗体** (bold) - Ctrl+B
- *斜体* (italic) - Ctrl+I  
- <u>下划线</u> (underline) - Ctrl+U
- ~~删除线~~ (strikethrough) - 重要修正

### 📰 **标题层级**
- # H1 - 主标题 (重大新闻)
- ## H2 - 章节标题 (新闻分段)
- ### H3 - 小节标题 (细分内容)
- #### H4 - 子标题 (详细说明)
- ##### H5 - 补充标题
- ###### H6 - 最小标题

### 📝 **列表结构**
- 1. 有序列表 (ol) - 步骤说明、排名
- • 无序列表 (ul) - 要点总结、特征

### 🎬 **媒体内容**
- 🖼️ **图片插入** (image) - 新闻配图
- 📹 **嵌入视频** (embed) - YouTube、Vimeo等
- 📄 **文档链接** (document-link) - PDF、Word等

### 📰 **新闻专用结构**

#### 💬 **引用块** (blockquote)
适用场景：
- 重要声明引用
- 采访内容摘录
- 官方回应
- 专家观点

```html
> "这是一个重要的引用内容" - 发言人姓名
```

#### ➖ **分割线** (hr)
适用场景：
- 章节分隔
- 主题转换
- 内容断点

#### 💻 **代码块** (code)
适用场景：
- 技术新闻
- 政策条文
- 法律条款
- 技术规范

### 🔗 **链接管理**
- 🌐 **外部链接** - 引用来源、相关报道
- 📄 **内部链接** - 关联文章、专题页面

### 🧮 **表格功能** (高级)
适用场景：
- 📊 数据新闻 (统计数据、调查结果)
- 📈 财经报道 (股价、财报)
- 🏆 体育新闻 (比赛结果、积分榜)
- 📋 对比分析 (产品对比、政策对比)

### 🔤 **高级格式**
- X² **上标** (superscript) - 科学数据、数学公式
- X₂ **下标** (subscript) - 化学公式、注释

## 🎨 新增的专业样式

### 💫 **引用块增强**
- 蓝色左边框
- 淡灰背景
- 引号装饰
- 斜体显示

### 💻 **代码块美化**
- 等宽字体
- 淡灰背景
- 边框装饰
- 语法突出

### ➖ **分割线设计**
- 渐变色效果
- 居中对齐
- 适当间距

### 📊 **表格样式**
- 斑马纹行
- 表头突出
- 边框美化
- 阴影效果

### 🔗 **链接优化**
- 品牌色
- 悬停效果
- 下划线装饰

## 📱 使用场景示例

### 🏆 **体育新闻**
```
# 中国队夺得奥运金牌

## 比赛结果
| 项目 | 选手 | 成绩 | 排名 |
|------|------|------|------|
| 100米 | 张三 | 9.85s | 🥇 |
| 200米 | 李四 | 19.95s | 🥈 |

> "这是历史性的突破" - 教练王五

---

## 相关报道
- [奥运专题](内部链接)
- [历史成绩对比](文档链接)
```

### 💼 **财经新闻**
```
# 公司Q3财报发布

## 主要数据
| 指标 | Q3 2023 | Q2 2023 | 同比增长 |
|------|---------|---------|----------|
| 营收 | 100亿¹ | 90亿 | +11.1% |
| 净利润 | 15亿 | 12亿 | +25% |

¹ 人民币计算

> "业绩超出预期" - CEO张总

**重点关注：**
- 新业务增长强劲
- 海外市场表现突出
- *成本控制有效*
```

### 🔬 **科技新闻**
```
# 新技术突破发布

## 核心创新
采用**AI算法**优化的新材料，强度提升到传统材料的10²倍。

### 技术参数
- 密度：2.5g/cm³
- 强度：500MPa  
- 应用温度：-40°C ~ 200°C

```python
# 算法核心代码示例
def optimize_material(params):
    return ai_model.predict(params)
```

> "这将改变整个行业" - 首席科学家
```

### 📺 **突发新闻**
```
# 【突发】重要事件实时更新

## 最新进展

**15:30 更新**
现场情况已得到控制...

---

**14:45 初步报告**  
事件发生在...

> "我们正在密切关注事态发展" - 官方发言人

📹 [现场视频](嵌入链接)
📄 [官方声明全文](文档链接)
```

## ⚙️ 配置选项

### 🎯 **配置级别**

#### 基础版 (basic)
适合：新手编辑、简单新闻
```python
features = ["bold", "italic", "h2", "h3", "link", "image", "blockquote"]
```

#### 标准版 (standard) - 当前默认
适合：专业编辑、日常使用
```python  
features = [完整的标准功能集]
```

#### 高级版 (advanced) - 当前启用
适合：资深编辑、复杂内容
```python
features = [标准功能 + 表格 + 高级功能]
```

#### 多媒体版 (multimedia)
适合：多媒体新闻、特殊报道
```python
features = [高级功能 + 社交媒体嵌入]
```

### 🔧 **切换配置**

在 `apps/news/models/article.py` 中修改：

```python
# 基础编辑器
body = RichTextField(features=get_news_editor_features())

# 标准编辑器  
body = RichTextField(features=get_news_editor_features())

# 高级编辑器 (当前)
body = RichTextField(features=get_advanced_news_editor_features())

# 多媒体编辑器
body = RichTextField(features=get_multimedia_news_editor_features())
```

## 🚀 **启用表格功能**

### 1. 确认Wagtail版本
表格功能需要 Wagtail 4.0+

### 2. 检查依赖
确保已安装：
```bash
pip install wagtail[table]
```

### 3. 配置settings.py
```python
# settings/base.py
WAGTAIL_ENABLE_RICH_TEXT_FEATURES = True

# 启用表格插件
INSTALLED_APPS = [
    # ... 其他应用
    'wagtail.contrib.table_block',
    # ...
]
```

### 4. 重启应用
```bash
docker compose restart authoring
```

## 💡 **编辑技巧**

### ⌨️ **快捷键**
- **Ctrl+B** - 粗体
- **Ctrl+I** - 斜体  
- **Ctrl+U** - 下划线
- **Ctrl+K** - 插入链接
- **Ctrl+Shift+K** - 移除链接
- **Tab** - 增加列表缩进
- **Shift+Tab** - 减少列表缩进

### 📝 **最佳实践**

1. **结构化写作**
   - 使用合适的标题层级
   - 适当添加分割线分段
   - 重要内容用引用块突出

2. **多媒体运用**
   - 配图要有说明性
   - 视频嵌入要测试播放
   - 文档链接要检查有效性

3. **表格使用**
   - 数据清晰对齐
   - 表头要明确
   - 复杂表格可分拆

4. **格式统一**
   - 保持样式一致性
   - 避免过度格式化
   - 重点内容适当突出

## 🎉 **总结**

现在你的新闻编辑器拥有了：

✅ **20+ 种专业编辑功能**
✅ **新闻场景优化设计**  
✅ **美观的视觉样式**
✅ **灵活的配置选项**
✅ **完整的表格支持**
✅ **多媒体内容集成**

这是一个真正**专业级的新闻内容编辑器**！🚀
