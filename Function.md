我来帮你理解这个基于Wagtail CMS 7.1的多站点项目。让我先探索项目结构和配置。


[38 tools called]

基于我对项目的深入分析，这是一个功能完整的基于Wagtail CMS 7.1的多站点新闻内容管理系统。以下是项目的核心架构和特点：

## 项目架构概览

### 后端架构 (Django + Wagtail)
- **Wagtail CMS 7.1** - 内容管理系统核心
- **Django 5.0+** - Web框架
- **PostgreSQL** - 主数据库
- **Redis** - 缓存和Celery消息队列
- **OpenSearch** - 搜索引擎（支持版本化索引和别名）
- **ClickHouse** - 数据分析和埋点存储
- **MinIO** - 对象存储（S3兼容）

### 前端架构 (Next.js)
- **Next.js 15.5.2** - React全栈框架
- **TypeScript** - 类型安全
- **Tailwind CSS** - 样式框架
- **多站点支持** - 支持不同主题和配置

### 核心应用模块

1. **apps/core** - 核心功能
   - 站点管理、频道、地区、语言配置
   - 存储监控和健康检查
   - CDN配置管理
   - 品牌化定制

2. **apps/news** - 新闻内容
   - ArticlePage模型 - 支持多站点聚合
   - 频道、地区、标签分类
   - 内部/外部来源管理
   - 权重排序和置顶功能

3. **apps/api** - REST API
   - 内容推荐API (`/api/feed`)
   - 搜索和过滤功能
   - 缓存管理API
   - 站点配置API

4. **apps/searchapp** - 搜索功能
   - OpenSearch集成
   - 查询模板系统
   - 多站点索引管理

5. **apps/media** - 媒体管理
   - 图片和文档上传
   - MinIO存储集成
   - 多桶结构支持

### 多站点特性

- **站点隔离** - 每个站点独立的频道、地区配置
- **内容聚合** - 支持跨站点内容聚合显示
- **主题系统** - 每个站点可配置不同主题
- **CDN支持** - 多站点CDN配置管理

### 部署和运维

- **Docker Compose** - 本地开发环境
- **多环境配置** - dev/test/prod环境分离
- **健康检查** - 完整的监控和告警系统
- **Celery任务** - 异步任务处理
- **存储监控** - MinIO存储状态监控

### 技术亮点

1. **智能推荐系统** - 基于OpenSearch的个性化内容推荐
2. **A/B测试支持** - 通过Feature Flags实现
3. **缓存优化** - Redis多级缓存策略
4. **SEO友好** - 支持规范链接和元数据
5. **性能监控** - 完整的性能指标收集

具备了大型新闻网站的所有核心功能，包括内容管理、搜索、推荐、多站点支持、监控等。